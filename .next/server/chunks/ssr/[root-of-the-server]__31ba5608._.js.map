{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///home/sparqui54/Descargas/WebProyecto/src/app/paginas/examen/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { FaArrowLeft } from 'react-icons/fa';\n\ninterface Question {\n  id: number;\n  subject: string;\n  type: 'opcion' | 'abierta';\n  question: string;\n  options?: string[];\n}\n\nexport default function ExamenPage() {\n  const router = useRouter();\n  const subjects = ['Estructura de Datos', 'Programaci√≥n Web', 'Sistemas Operativos'];\n\n  const [questionsBySubject, setQuestionsBySubject] = useState<{ [key: string]: Question[] }>({});\n  const [loadingSubject, setLoadingSubject] = useState<string | null>(null);\n\n  const generarExamenPorMateria = async (subject: string) => {\n    setLoadingSubject(subject);\n    try {\n      const res = await fetch(`/api/examen?subject=${encodeURIComponent(subject)}`);\n      const data: Question[] = await res.json();\n      setQuestionsBySubject((prev) => ({ ...prev, [subject]: data }));\n    } catch (error) {\n      console.error(error);\n      alert(`Error al generar examen de ${subject}`);\n    } finally {\n      setLoadingSubject(null);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-black text-teal-300 font-mono px-6 py-6\">\n      <nav className=\"flex justify-between items-center border-b border-teal-500/30 pb-4 mb-6\">\n        <h1 className=\"text-2xl font-bold\">Examen</h1>\n        <Link href=\"/paginas/alumno\" className=\"flex items-center gap-2 text-teal-300 hover:text-teal-100 transition hover:underline\">\n          <FaArrowLeft className=\"text-xl\" /> Regresar\n        </Link>\n      </nav>\n\n      <div className=\"space-y-6 max-w-3xl mx-auto\">\n        {subjects.map((subject) => (\n          <div key={subject} className=\"bg-neutral-900 p-4 rounded-xl border border-teal-500/30\">\n            <div className=\"flex justify-between items-center mb-3\">\n                <p className=\"text-lg font-semibold\">{subject}</p>\n                <button\n                    onClick={() => generarExamenPorMateria(subject)}\n                    disabled={loadingSubject === subject}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white py-1 px-4 rounded transition ml-6\"\n                >\n                    {loadingSubject === subject ? 'Generando...' : 'Generar examen'}\n                </button>\n            </div>\n\n\n            {questionsBySubject[subject] && (\n              <form className=\"space-y-4\">\n                {questionsBySubject[subject].map((q) => (\n                  <div key={q.id}>\n                    <p className=\"font-medium\">{q.question}</p>\n                    {q.type === 'opcion' &&\n                      q.options?.map((opt, idx) => (\n                        <label key={idx} className=\"flex items-center gap-2\">\n                          <input type=\"radio\" name={`q-${q.id}`} value={opt} className=\"accent-teal-400\" />\n                          <span>{opt}</span>\n                        </label>\n                      ))}\n                    {q.type === 'abierta' && (\n                      <textarea name={`q-${q.id}`} rows={3} className=\"w-full p-2 bg-black border border-teal-500/30 rounded mt-2\" />\n                    )}\n                  </div>\n                ))}\n              </form>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAee,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW;QAAC;QAAuB;QAAoB;KAAsB;IAEnF,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiC,CAAC;IAC7F,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAEpE,MAAM,0BAA0B,OAAO;QACrC,kBAAkB;QAClB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,oBAAoB,EAAE,mBAAmB,UAAU;YAC5E,MAAM,OAAmB,MAAM,IAAI,IAAI;YACvC,sBAAsB,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,CAAC,QAAQ,EAAE;gBAAK,CAAC;QAC/D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;YACd,MAAM,CAAC,2BAA2B,EAAE,SAAS;QAC/C,SAAU;YACR,kBAAkB;QACpB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAkB,WAAU;;0CACrC,8OAAC,8IAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;0BAIvC,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;wBAAkB,WAAU;;0CAC3B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;kDACtC,8OAAC;wCACG,SAAS,IAAM,wBAAwB;wCACvC,UAAU,mBAAmB;wCAC7B,WAAU;kDAET,mBAAmB,UAAU,iBAAiB;;;;;;;;;;;;4BAKtD,kBAAkB,CAAC,QAAQ,kBAC1B,8OAAC;gCAAK,WAAU;0CACb,kBAAkB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,kBAChC,8OAAC;;0DACC,8OAAC;gDAAE,WAAU;0DAAe,EAAE,QAAQ;;;;;;4CACrC,EAAE,IAAI,KAAK,YACV,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,oBACnB,8OAAC;oDAAgB,WAAU;;sEACzB,8OAAC;4DAAM,MAAK;4DAAQ,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;4DAAE,OAAO;4DAAK,WAAU;;;;;;sEAC7D,8OAAC;sEAAM;;;;;;;mDAFG;;;;;4CAKf,EAAE,IAAI,KAAK,2BACV,8OAAC;gDAAS,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;gDAAE,MAAM;gDAAG,WAAU;;;;;;;uCAV1C,EAAE,EAAE;;;;;;;;;;;uBAhBZ;;;;;;;;;;;;;;;;AAqCpB","debugId":null}}]
}