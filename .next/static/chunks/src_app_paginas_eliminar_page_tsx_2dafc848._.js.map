{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/luizpedro/Documentos/Web2/WebProyecto/src/app/paginas/eliminar/page.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { FaArrowLeft, FaTrash } from 'react-icons/fa';\n\ninterface Usuario {\n  id_usuario: number;\n  nombre: string;\n}\n\nexport default function EliminarJuniorPage() {\n  const [juniors, setJuniors] = useState<Usuario[]>([]);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchJuniors = async () => {\n      try {\n        const res = await fetch('http://localhost:3000/apilocal/usuarios');\n        if (!res.ok) {\n          const err = await res.json();\n          throw new Error(err.error || 'Error desconocido al obtener juniors');\n        }\n        const data = await res.json();\n        console.log('Datos recibidos de /apilocal/usuarios:', data);\n\n        if (!Array.isArray(data)) {\n          throw new Error('Respuesta inesperada: no es un array');\n        }\n        setJuniors(data);\n      } catch (err: any) {\n        console.error('fetchJuniors error:', err);\n        setError(err.message);\n        setJuniors([]);\n      }\n    };\n    fetchJuniors();\n  }, []);\n\n  const handleDelete = async (id: number) => {\n    if (!confirm('¿Estás seguro que quieres eliminar este usuario?')) return;\n\n    try {\n      const res = await fetch('/apilocal/usuarios', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'http://localhost:3000/apilocal/json' },\n        body: JSON.stringify({ id }),\n      });\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || 'Error desconocido al eliminar usuario');\n      }\n\n      console.log('Usuario eliminado:', id);\n      setJuniors((prev) => prev.filter((u) => u.id_usuario !== id));\n    } catch (err: any) {\n      console.error('handleDelete error:', err);\n      setError(err.message || 'Error de conexión al eliminar');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-black text-teal-300 font-mono px-6 py-6\">\n      {/* Navbar */}\n      <nav className=\"flex justify-between items-center border-b border-teal-500/30 pb-4 mb-6\">\n        <h1 className=\"text-2xl font-bold text-red-400\">Eliminar Junior</h1>\n        <Link\n          href=\"/paginas/admin\"\n          className=\"flex items-center gap-2 text-teal-300 hover:text-orange-400 transition hover:underline\"\n        >\n          <FaArrowLeft className=\"text-xl\" />\n          Regresar\n        </Link>\n      </nav>\n\n      {/* Lista de Juniors */}\n      {juniors.map((junior, index) => (\n      <div\n        key={junior.id_usuario ?? index}        // <–– aquí\n        className=\"flex justify-between items-center bg-neutral-900 p-4 rounded-lg border border-teal-500/20 shadow hover:bg-neutral-800 transition\"\n      >\n        <span>{junior.nombre}</span>\n        <button\n          onClick={() => handleDelete(junior.id_usuario)}\n          className=\"text-red-400 hover:text-red-500 transition\"\n        >\n          <FaTrash />\n        </button>\n      </div>\n    ))}\n\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAWe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;wCAAE;YACR,MAAM;6DAAe;oBACnB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM;wBACxB,IAAI,CAAC,IAAI,EAAE,EAAE;4BACX,MAAM,MAAM,MAAM,IAAI,IAAI;4BAC1B,MAAM,IAAI,MAAM,IAAI,KAAK,IAAI;wBAC/B;wBACA,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,QAAQ,GAAG,CAAC,0CAA0C;wBAEtD,IAAI,CAAC,MAAM,OAAO,CAAC,OAAO;4BACxB,MAAM,IAAI,MAAM;wBAClB;wBACA,WAAW;oBACb,EAAE,OAAO,KAAU;wBACjB,QAAQ,KAAK,CAAC,uBAAuB;wBACrC,SAAS,IAAI,OAAO;wBACpB,WAAW,EAAE;oBACf;gBACF;;YACA;QACF;uCAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,QAAQ,qDAAqD;QAElE,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,sBAAsB;gBAC5C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAsC;gBACjE,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAG;YAC5B;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;YAChC;YAEA,QAAQ,GAAG,CAAC,sBAAsB;YAClC,WAAW,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,UAAU,KAAK;QAC3D,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,uBAAuB;YACrC,SAAS,IAAI,OAAO,IAAI;QAC1B;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAkC;;;;;;kCAChD,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,6LAAC,iJAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;YAMtC,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACtB,6LAAC;oBAEC,WAAU;;sCAEV,6LAAC;sCAAM,OAAO,MAAM;;;;;;sCACpB,6LAAC;4BACC,SAAS,IAAM,aAAa,OAAO,UAAU;4BAC7C,WAAU;sCAEV,cAAA,6LAAC,iJAAA,CAAA,UAAO;;;;;;;;;;;mBARL,OAAO,UAAU,IAAI;;;;;;;;;;;AAelC;GAnFwB;KAAA","debugId":null}}]
}